<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>ETC</title>
</head>
<style>
    .highlight-1{background-color:aquamarine;}
    .highlight-2{background-color: aqua;}
    .highlight-3{background-color: dodgerblue;}
    .highlight-4{background-color: darkcyan;}
    .highlight-5{background: darkblue;}
</style>
<body>
    
    <h1>jquery 쟁이들이 좋아하는 메소드들</h1>
    <h4>* each메소드</h4>

    <p>
        배열의 모든 인덱스에 순차적으로 접근해야할 때 <br>
        객체가 가지고 있는 모든 속성에 순차적으로 접근해야할 때 <br>
        사용할 수 있는 for문과 유사하게 수행되는 메소드
    </p>

    <pre>
    [표현법]

    1)
    $.each(객체/배열, function(매개변수1, 매개변수2){
        순차적으로 요소에 접근해서 수행할 내용;
    });

    2)
    배열.each(function(매개변수1, 매개변수2){
        순차적으로 요소에 접근해서 수행할 내용;
    });

    ==> 매개변수1, 2는 생략 가능
    ==> 순차적으로 객체/배열의 속성이나 인덱스에 접근할 때마다 function 수행

    ===============================================================
    case 1) 개체의 경우
    매개변수 1: 순차적으로 접근한 객체의 속성명(Property)
    매개변수 2: 해당 속성값(Value)

    case 2) 배열의 경우
    매개변수 1: 순차적으로 접근한 배열의 인덱스(Index)
    매개변수 2: 해당 요소값(Value)
    </pre>

    <div id="area1">

    </div>

    <script>
        $(function(){

            // 배열을 생성
            const fruits = ["사과", "채리", "복숭아"];
            
            //for loop 문
            for(let i = 0; i < fruits; i++){
                console.log(`인덱스 : ${i}, 요소 : ${fruits[i]}`);
            }

            console.log('-------------------for-------------------');

            // for in 문
            for(let index in fruits){
                console.log(`인덱스 : ${index}, 요소 : ${fruits[index]}`);
            }

            //for of 문
            for(let fruit of fruits){
                console.log(`요소 : ${fruit}`);
            }

            console.log('------------------each--------------------');

            $.each(fruits, function(index, value){
                console.log(`인덱스 : ${index}, 요소 : ${value}`);
            });


            console.log('------------------map--------------------');

            fruits.map((el, i) => {
                console.log(`인덱스 : ${i}, 요소 : ${el}`);
            });

            console.log('------------------객체(each)--------------------');

            // 객체를 제시했을 경우
            const capital = {
                한국 : "한양",
                일본 : "도쿄",
                중구 : "베이징",
                프랑스 : "파리",
            }

            $.each(capital, function(key, value){
                console.log(`속성명 : ${key}, 값 : ${value}`);
            });

            // 객체 배열
            const links = [
                { name: "네이버", link: "http://www.naver.com" },
                { name: "구글", link: "http://www.google.com" },
                { name: "다음", link: "http://www.daum.net" },
            ];

            let output = "";
            $.each(links, function(index, item){
                output += `<a href="${item.link}">${item.name}</a><br>`;
            });
            //$("#area1").html(output);

            $("#area1").html(links.map(e => `<a href="${e.link}">${e.name}</a><br>`).join(""));

        });
    </script>
    <br><br><br>

    <table border="1" id="areaT">
        <thead>
            <tr>
                <th>회원번호</th>
                <th>아이디</th>
                <th>가입일</th>
                <tbody>

                </tbody>
            </tr>
        </thead>
    </table>

    <button id="user-info">회원정보조회요청</button>

    <script>
        $(function(){
            $("#user-info").click(function(){
                // 서버에게 요청!

                // DB로부터 데이터를 조회했다고 가정
                const members = [
                    {memberNo: 1, memberId: "user01", enrollDate: "2025/09/22"},
                    {memberNo: 1, memberId: "user02", enrollDate: "2025/09/22"},
                    {memberNo: 4, memberId: "user22", enrollDate: "2025/09/22"},
                ];

                // ★★★★ 데이터에 가늠이 안가기 때문에 동적인 요소를 만들어서 사용 ★★★★
                let  result = "";
                $.each(members, function(index, obj){
                    console.log(obj);
                    result += `<tr>
                                    <td>${obj.memberNo}</td>
                                    <td>${obj.memberId}</td>
                                    <td>${obj.enrollDate}</td>
                                </tr>`;
                });
                $("#areaT tbody").append(result);

            });
        });
    </script>

    <br>
    <div id="wrap">
        <h2>item-1</h2>
        <h2>item-2</h2>
        <h2>item-3</h2>
        <h2>item-4</h2>
        <h2>item-5</h2>
    </div>

    <script>
        $(function(){
            console.log($("#wrap").children());
            $("#wrap").children().each(function(i, el){
                console.log(`속성명 : ${i}, 값 : ${el}`);
                
                // highlight-1 ~ 5

                // 방법 1.
                //console.log(el);
                //el.className = `highlight-${++i}`;


                // 방법 2. 보통 this 사용
                console.log(this);
                this.className = `highlight-${++i}`;

            });
        });
    </script>


    <br><br><br>
</body>
</html>