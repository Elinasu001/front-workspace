<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="resources/css/lib/swiper-bundle.min.css" />
    <link rel="stylesheet" href="assets/css/ui/com/header.css"/>
    <title>상업용 풀스크린 스크롤 페이지</title>
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="inner">
                <div class="auth-links">
                    <a href="#login" class="btn-login line">로그인</a>
                    <a href="#signup" class="btn-signup">회원가입</a>
                </div>
            </div>
        </div>
        <nav id="gnbFull" aria-label="주요 메뉴">
            
            <div class="inner">
                <a href="#" class="logo" aria-label="홈으로">
                    <img src="./assets/images/logo.png" alt="">
                    <span>valueup</span>
                </a>

                <ul class="menu-list" role="menubar">
                    
                    <li class="menu-item" role="none">
                        <a href="#secondPage" role="menuitem" aria-haspopup="true" aria-expanded="false">공지사항</a>
                        <div class="menu-sub" role="menu" aria-label="공지사항 하위메뉴">
                            <ul>
                                <li><a href="#">공지사항 등록</a></li>
                                <li><a href="#">공지사항 목록조회</a></li>
                                <li><a href="#">공지사항 수정/삭제</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="menu-item" role="none">
                        <a href="#thirdPage" role="menuitem" aria-haspopup="true" aria-expanded="false">일반게시판</a>
                        <div class="menu-sub" role="menu" aria-label="일반게시판 하위메뉴">
                            <ul>
                                <li><a href="#">게시글 작성</a></li>
                                <li><a href="#">게시글 목록조회</a></li>
                                <li><a href="#">게시글 수정/삭제</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="menu-item" role="none">
                            <a href="#thirdPage" role="menuitem" aria-haspopup="true" aria-expanded="false">사진게시판</a>
                            <div class="menu-sub" role="menu" aria-label="사진게시글 하위메뉴">
                                <ul>
                                    <li><a href="#">사진게시글 작성</a></li>
                                    <li><a href="#">사진게시글 목록조회</a></li>
                                </ul>
                            </div>
                        </li>
                    <li class="menu-item" role="none">
                        <a href="#firstPage" role="menuitem" aria-haspopup="true" aria-expanded="false">회원서비스</a>
                        <div class="menu-sub" role="menu" aria-label="회원서비스 하위메뉴">
                            <ul>
                                <li><a href="#">내정보변경</a></li>
                                <li><a href="#">회원탈퇴</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>

                <div class="hamburger-container">
                    <button id="btnMobileMenu" class="hamburger" aria-label="전체 메뉴 열기" aria-controls="mobileMenu" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu hamburger-icon"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                    </button>
                </div>
            </div>
        </nav>
    </header>
    <div id="full-container">
        <div class="section" id="firstPage">
            <div class="content">
                <h1>오늘의 챌린지</h1>
                <p>작은 습관이 모여 큰 변화를 만듭니다.</p>
                <button class="app-link">
                    <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='25' fill='none' viewBox='0 0 24 25'%3e %3cpath fill='currentColor' d='M19.98 3.058a1 1 0 0 0-.11.01H15a1 1 0 1 0 0 2h2.586L8.293 14.36a1 1 0 1 0 1.414 1.414L19 6.482v2.586a1 1 0 1 0 2 0V4.195a1 1 0 0 0-1.02-1.137ZM5 3.068c-1.093 0-2 .907-2 2v14c0 1.093.907 2 2 2h14c1.093 0 2-.907 2-2v-6a1 1 0 1 0-2 0v6H5v-14h6a1 1 0 1 0 0-2H5Z'/%3e%3c/svg%3e" width="16" height="16" style="filter: invert(100%) sepia(0%) saturate(7500%) hue-rotate(110deg) brightness(98%) contrast(108%); opacity: 1;">
                    앱으로 이동
                </button>
            </div>
        </div>
        
        <div class="section" id="secondPage">
            <div class="content">
                <h1>참여형 이벤트</h1>
                <p>함께 도전하고, 인증하며 보상을 받아보세요.</p>
            </div>
        </div>
        
        <div class="section" id="thirdPage">
            <div class="content">
                <h1>기록과 성장</h1>
                <p>매일 인증하고 쌓이는 기록이 곧 당신의 성장입니다.</p>
                <!-- Swiper -->
                <div id="swiperWrap">
                    <div class="swiper mySwiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">Slide 1</div>
                            <div class="swiper-slide">Slide 2</div>
                            <div class="swiper-slide">Slide 3</div>
                            <div class="swiper-slide">Slide 9</div>
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section" id="fourthPage">
            <div class="content">
                <h1>포인트 리워드</h1>
                <p>성공적인 도전을 마치면 포인트와 성취감을 동시에!</p>
            </div>
            <footer class="site-footer">
                <p>&copy; 2025 ValueUp Challenge. All rights reserved.</p>
            </footer>
        </div>
    </div>
    
    <aside id="mobileMenu" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="mobileMenuTitle">
        <div class="backdrop" data-close="backdrop"></div>
        <div class="sheet">
            <header>
                <h2 id="mobileMenuTitle" style="margin:0;font-size:18px;">전체 메뉴</h2>
                <button type="button" class="close" id="mobileClose">
                    <svg xmlns="http://www.w3.org/2000/svg"
                        width="24" height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-x close-icon">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>

                </button>
            </header>
            <nav aria-label="전체 메뉴">
                <div class="top-bar">
                    <div class="inner">
                        <div class="auth-links">
                        <a href="#login" class="btn-login line">로그인</a>
                        <a href="#signup" class="btn-signup">회원가입</a>
                        </div>
                    </div>
                </div>
                <ul style="list-style:none; margin:0; padding:0">
                    <li class="m-acc">
                        <button class="m-acc-btn" aria-expanded="false">공지사항</button>
                        <div class="m-acc-panel m-sub">
                            <a href="#">공지사항 등록</a>
                            <a href="#">공지사항 목록조회</a>
                            <a href="#">공지사항 수정/삭제</a>
                        </div>
                    </li>
                    <li class="m-acc">
                        <button class="m-acc-btn" aria-expanded="false">일반게시판</button>
                        <div class="m-acc-panel m-sub">
                            <a href="#">게시글 작성</a>
                            <a href="#">게시글 목록조회</a>
                            <a href="#">게시글 수정/삭제</a>
                        </div>
                    </li>
                    <li class="m-acc">
                        <button class="m-acc-btn" aria-expanded="false">사진게시판</button>
                        <div class="m-acc-panel m-sub">
                            <a href="#">사진게시글 작성</a>
                            <a href="#">사진게시글 목록조회</a>
                        </div>
                    </li>
                    <li class="m-acc">
                        <button class="m-acc-btn" aria-expanded="false">회원서비스</button>
                        <div class="m-acc-panel m-sub">
                            <a href="#">내정보 변경</a>
                            <a href="#">회원탈퇴</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </aside>

    <button id="scrollToTopBtn" title="맨 위로">↑</button>

    <ul id="pagination"></ul>

 <script>
document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('full-container');  // 스크롤 컨테이너
    const nav = document.getElementById('gnbFull'); 

    // ==== 풀스크린 전용 로직 ====
    if (container) {
        const sections = document.querySelectorAll('.section');
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');
        const pagination = document.getElementById('pagination');
        let isScrolling = false;

        // 네비게이션 box-shadow 토글
        function updateNavbarShadow() {
            const header = document.querySelector('header');  // header 요소
            if (container.scrollTop > 0) {
                header.classList.add('scrolled');   // header에 붙이기
            } else {
                header.classList.remove('scrolled');
            }
        }

        // 페이지네이션 생성
        sections.forEach((section, index) => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = `#${section.id}`;
            a.classList.add('pagination-dot');
            a.textContent = `페이지 ${index + 1}`;
            li.appendChild(a);
            pagination.appendChild(li);
        });

        const paginationDots = document.querySelectorAll('.pagination-dot');

        function updateActiveSection() {
            let currentSectionIndex = 0;
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= window.innerHeight * 0.5 && rect.bottom > window.innerHeight * 0.5) {
                    currentSectionIndex = index;
                }
            });

            paginationDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSectionIndex);
            });

            if (currentSectionIndex > 0) {
                scrollToTopBtn.style.display = 'flex';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
        }

        container.addEventListener('scroll', () => {
            if (!isScrolling) {
                isScrolling = true;
                requestAnimationFrame(() => {
                    updateNavbarShadow(); 
                    updateActiveSection();
                    isScrolling = false;
                });
            }
        });

        // 메뉴 & 페이지네이션 클릭 이동
        const allNavLinks = document.querySelectorAll('#gnbFull .menu-list a, .m-link, .pagination-dot');
        allNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        // Scroll To Top 버튼
        if (scrollToTopBtn) {
            scrollToTopBtn.addEventListener('click', function() {
                container.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        // 초기 상태
        updateNavbarShadow();
        updateActiveSection();
    }

    // ==== 공통 GNB (데스크톱 메뉴, 모바일 햄버거) ====
    const items = document.querySelectorAll('#gnbFull .menu-item');
    function openItem(item) {
        closeAll();
        item.classList.add('on');
        const link = item.querySelector('a');
        if (link) link.setAttribute('aria-expanded', 'true');
    }
    function closeItem(item) {
        item.classList.remove('on');
        const link = item.querySelector('a');
        if (link) link.setAttribute('aria-expanded', 'false');
    }
    function closeAll() {
        const opened = document.querySelectorAll('#gnbFull .menu-item.on');
        for (let i = 0; i < opened.length; i++) closeItem(opened[i]);
    }

    items.forEach(item => {
        const link = item.querySelector('a');
        item.addEventListener('mouseenter', () => openItem(item));
        item.addEventListener('mouseleave', () => closeItem(item));
        if (link) {
            link.addEventListener('focus', () => openItem(item));
        }
    });
    document.addEventListener('focusin', function(e) {
        if (!e.target.closest || !e.target.closest('#gnbFull')) closeAll();
    });
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') closeAll();
    });

    // ==== 모바일 햄버거 ====
    const btn = document.getElementById('btnMobileMenu');
    const wrap = document.getElementById('mobileMenu');
    const closeBtn = document.getElementById('mobileClose');

    if (btn && wrap) {
        let previousActiveElement = null;

        function openMenu() {
            previousActiveElement = document.activeElement;
            wrap.setAttribute('aria-hidden', 'false');
            btn.setAttribute('aria-expanded', 'true');
            btn.classList.add('is-open');
            document.body.classList.add('body-lock');
        }
        function closeMenu() {
            wrap.setAttribute('aria-hidden', 'true');
            btn.setAttribute('aria-expanded', 'false');
            btn.classList.remove('is-open');
            document.body.classList.remove('body-lock');
            if (previousActiveElement) {
                previousActiveElement.focus();
            }
        }
        function toggleMenu() {
            const hidden = wrap.getAttribute('aria-hidden') !== 'false';
            if (hidden) openMenu();
            else closeMenu();
        }

        btn.addEventListener('click', (e) => { e.preventDefault(); toggleMenu(); });
        if (closeBtn) closeBtn.addEventListener('click', () => closeMenu());
        wrap.addEventListener('click', (e) => {
            if (e.target.getAttribute('data-close') === 'backdrop') closeMenu();
        });
        document.addEventListener('keydown', (e) => {
            if (wrap.getAttribute('aria-hidden') === 'false' && (e.key === 'Escape' || e.keyCode === 27)) {
                closeMenu();
            }
        });


        // 아코디언
        const acc = wrap.querySelectorAll('.m-acc');
            acc.forEach(item => {
                const b = item.querySelector('.m-acc-btn');
                const p = item.querySelector('.m-acc-panel');
                if (!b || !p) return;
                b.addEventListener('click', () => {
                    const open = item.classList.contains('open');
                    if (open) {
                        item.classList.remove('open');
                        b.setAttribute('aria-expanded', 'false');
                    } else {
                        item.classList.add('open');
                        b.setAttribute('aria-expanded', 'true');
                    }
                });
            });
        }

        var swiper = new Swiper(".mySwiper", {
            slidesPerView: 1,
            pagination: {
                el: ".swiper-pagination",
            },
            loop:true,
            autoplay: {
                delay: 2500,
            },
        });
        
    });
</script>


</body>
</html>