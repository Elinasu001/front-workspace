<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수</title>
</head>
<style>
    .area{width:500px; height:200px; border:1px solid tomato; background-color: salmon;}
</style>
<body>
    <p>2차 민생 쿠폰 지급받으셈 ㅋ 밑에꺼 누르셈 ㅋ</p>
    <a href="http://www.google.com">http://www.naver.com</a>
    <hr>
    <h1>함수! (function)</h1>
    <!--
        1. 선언적함수 : 식별자가 달려있는 함수, 식별자를 호출해서 실행
        2. 익명함수 : 이름이 없음, 속성에 함수를 대입해서 구현
    -->

    <h3>선언적함수</h3>
    <pre onclick="firstFn();">
    [표현법]
    function 함수명(매개변수, 매개변수){
        함수를 호출했을 때 실행할코드;
        return 결과값;
    }

    - 매개변수가 없는 경우 생략 가능
    - 반환할 결과값이 없는 경우 return 생략 가능
    </pre>

    <div id="area1" class="area" onclick="firstFn();"></div>

    <script>
        function firstFn(){
            // 코드의 재사용 + 함수식별자를 이용해서 의미를 전달
            document.getElementById('area1').innerHTML = "함수호출";
            // alert('하이');
        }
    </script>

    <hr>

    <h3>* 익명함수</h3>
    <pre>
    [표현법]

    변수 / 속성 = () => {
        소스코드 어쩌고저쩌고
    }

    => 주로 이벤트 핸들로 작성 시 사용
    </pre>

    <button id="btn">하잉</button>
    <div id="area2" class="area"></div>

    <script>
        const btnEl = document.getElementById('btn');
        btnEl.onclick = () => {
            // 버튼을 클릭했을 때 수행하고 싶은 코드들
            // 버튼요소에 클릭이벤트가 발생했을 대 요걸 하고 싶음
            //          특정 이벤트 발생 시 동작시킬 코드뭉치 == 이벤트 핸들러
            document.getElementById('area2').innerHTML = "함수호출";
        }
    </script>

    <hr>
    <h3>함수의 매개변수</h3>
    <br>
    <button onclick="parameterFn('문자열')">string 전달</button>
    <button onclick="parameterFn(100)">number 전달</button>
    <button onclick="parameterFn([1, 2, 3])">array 전달</button>
    <button onclick="parameterFn(prompt('이름?'))">function 전달</button>
    <!--
        자료형과는 무관한 인자값의 개수와 매개변수의 개수만 동일하다면,
        어떤 형태의 값이든 전달 가능하다.
    -->
    <button onclick="parameterFn()">전달無</button>
    <!--
        실행에는 문제가 없음 / 단, undefined가 대입
    -->
    <button onclick="parameterFn(1, 2)">많이 전달</button>
    <!--
        매개변수 하나인데 두개 이상의 값을 전달한다면?
        여러 개 중 가장 앞에 있는 하나를 전달한다.
        다음 값은 사라진다.
        즉, 실행에는 문제가 없음 / 단, 초과된 전달값은 사라짐
    -->
    <br><br>
    <div id="area3" class="area"></div>

    <script>
        function parameterFn(value){
                            // 매개변수 작성 시 자료형을 지정하지 않음, var / let 키워드도 사용 X
                            // 오로지 변수명만 작성 (타입알아서지정)
            console.log(value);
            document.getElementById('area3').innerHTML = value;
        }
    </script>

    <hr>

    <button onclick="test(10, 30, 50, 60, 70, 80, 90, 100, 760);">나는 버튼</button>
    <button onclick="test(10, 30, 20, 50);">나도 버튼</button>
    <button onclick="test(2)">버튼 삼형제</button>


    <script>
        /*
        // 방법 1
        function test(){
            console.log(arguments);
            // 함수 호출 시 전달하는 인자값은 내부적으로 arguments라는 배열에 담김
            // * arguments : 모든 함수마다 내부적으로 하나씩 존재함
            // 혼자 작업할 경우만 사용
        }
        */

        // 방법 2
        function test(...nums){
            console.log(nums);
            // 실제로 여러 사람이 작업 할 경우 권장되는 작업이다.
        }
    </script>

    <hr>

    <h3>매개변수로 this키워드 전달해보기(선언적함수 ver)</h3>

    <button onclick="changeColor1();" id="btn1">ver 0.1</button>
    <button onclick="changeColor2();" id="btn2">ver 0.1</button>
    <br/><br/>
    <button onclick="changeColor(1);" id="btn3">ver 0.2</button>
    <button onclick="changeColor(2);" id="btn4">ver 0.2</button>
    <br/><br/>
    <button onclick="change(5);" id="btn5">ver 0.3</button>
    <button onclick="change(6);" id="btn6">ver 0.3</button>
    <br/><br/>
    <button onclick="color(this);" id="btn7">ver 0.4</button>
    <button onclick="color(this);" id="btn8">ver 0.4</button>

    <script>
        // ver 0.1
        function changeColor1(){
            document.getElementById('btn1').style.color = "orangered";
        };

        function changeColor2(){
            document.getElementById('btn2').style.color = "orangered";
        };

        // ver 0.2
        function changeColor(value){
            if(value === 1){
                document.getElementById('btn3').style.color = 'orangered';
            }else{
                document.getElementById('btn4').style.color = 'orangered';
            }
        };

        // ver 0.3
        function change(value){
            document.getElementById(`btn${value}`).style.color = "orangered";
        };


        //ver 0.4 _ 간결
        function color(value){
            //console.log(value);
            value.style.color = "orangered";
        }; // 스타일 : 마지막이란 의미로 ;를 붙여주지 않는다.
    </script>

    <hr>
    
    <h2>함수의 반환</h2>

    <button onclick="random();">closure  함수</button>
    <div id="area6" class="area"></div>


    <script>
        // 함수 내부에 넣어 사용 하고 싶을 경우
        // const random = parseInt(Math.random() * 10) + 1;


        function generateNum(){
            const num = parseInt(Math.random() * 10) + 1;
            // return num;

            // 내부 함수 반환
            return function naming(name){
                return `${name}님의 랜덤한 숫자 : ${num}`;
            }
        }
        // 클로저(Closure) : 외부 함수 실행이 끝나더라도
        // 반환한 내부 함수를 통해서 외부 함수 내 변수를 사용할 수 있도록 하는 기술
        // == 자바의 캡슐화

        function random(){
            // 호출 후 반환
            //const num = generateNum();
            //document.getElementById('area6').innerHTML = num;

            // 반환된 내부 함수 통한 외부 함수 호출 후 변수 사용
            const naming = generateNum();
            console.log(naming);
            document.getElementById('area6').innerHTML = naming("홍길동");
        }
    </script>

    <hr>

    <h3>* 익명함수를 반환하는 경우</h3>
    <button onclick="testFn()();">극단적인코드</button> <!-- return function() : 이름이 없으니 () 덧붙여준다.-->

    <script>
        function testFn(){
            return function(){ // 익명함수 반환(극단적)
                alert("날 불렀니?");
            }
        }
        

    </script>
</body>
</html>